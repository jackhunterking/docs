---
title: "AntiGravity"
---

# AntiGravity MCP Setup

AntiGravity is supported now via Streamable HTTPS MCP transport.

## Prerequisites

- An [AdsGateway account](https://adsgateway.io)
- AntiGravity access with MCP server configuration enabled

## Server Configuration

Open AntiGravity MCP settings and add this entry to your `mcp_config.json`:

```json
{
  "mcpServers": {
    "ads-gateway": {
      "serverUrl": "https://ads-gateway.onrender.com/mcp"
    }
  }
}
```

<Note>
  Keep the config minimal: only `serverUrl` is required. Do not add a custom `oauth` block.
</Note>

## Authenticate

1. Enable the `ads-gateway` server in AntiGravity.
2. Complete the browser login flow with your AdsGateway account.
3. Return to AntiGravity and wait for the connection status to show connected.

## Verify

Try this prompt:

```text
List my Meta ad accounts
```

If accounts are returned, setup is complete.

## Reset Auth (invalid_token or auth loop)

If you see `invalid_token`, repeated auth prompts, or never reach connected status:

1. Disable `ads-gateway` in AntiGravity.
2. Remove the `ads-gateway` entry from `mcp_config.json`.
3. Clear browser cookies/session data for:
   - `ads-gateway.onrender.com`
   - `adsgateway.io`
4. Re-add the same `serverUrl` config shown above.
5. Re-enable the server and complete login again.

<Tip>
  Complete login in the same browser profile AntiGravity opens. Avoid mixing normal/incognito windows during the same auth attempt.
</Tip>

## Tracking Permission Recovery (when setup asks for more permissions)

During tracking setup flows, AdsGateway may return a Meta permission-recovery link for pixel creation permissions.

When this happens:

1. Open the provided `authorization_url`.
2. Complete Meta permission grant.
3. Return to AntiGravity and continue the setup step.

## Callback Compatibility

AdsGateway supports AntiGravity web callback patterns used during browser auth completion, including:

- `https://antigravity.google/oauth/callback`
- `https://www.antigravity.google/oauth/callback`

No custom callback override is needed in client config.
